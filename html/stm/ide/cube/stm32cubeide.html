<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>STM32cubeIDE &mdash; Trusted Firmware-M v2.1.0-stm32mp-r1-rc3-preint1 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/tfm_custom.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/tabs.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="prev" title="Ide" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> Trusted Firmware-M
            <img src="../../../_static/tf_logo_white.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                v2.1.0-stm32mp-r1-rc3-preint1+d1c7868
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Getting Started</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../security/threat_models/generic_threat_model.html">Threat model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../security/security_advisories/index.html">Security Advisories</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../security/security_advisories/stack_seal_vulnerability.html">Advisory TFMV-1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../security/security_advisories/svc_caller_sp_fetching_vulnerability.html">Advisory TFMV-2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../security/security_advisories/crypto_multi_part_ops_abort_fail.html">Advisory TFMV-3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../security/security_advisories/profile_small_key_id_encoding_vulnerability.html">Advisory TFMV-4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../security/security_advisories/fwu_write_vulnerability.html">Advisory TFMV-5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../security/security_advisories/cc3xx_partial_tag_compare_on_chacha20_poly1305.html">Advisory TFMV-6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../security/security_advisories/debug_log_vulnerability.html">Advisory TFMV-7</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/index.html">Releases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../releases/2.1.0.html">v2.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../releases/2.0.0.html">v2.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../releases/1.8.1.html">v1.8.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../releases/1.8.0.html">v1.8.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../releases/release_process.html">Release Cadence and Process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../platform/index.html">Platforms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../platform/arm/index.html">Arm</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/arm/corstone1000/readme.html">Corstone-1000</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/arm/mps3/corstone300/README.html">Corstone-300 FPGA (AN547 and AN552) and FVP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/arm/mps3/corstone310/README.html">Corstone-310 FPGA (AN555) and FVP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/arm/mps4/corstone315/README.html">Corstone-315 FVP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/arm/musca_b1/readme.html">Musca-B1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/arm/musca_s1/readme.html">Musca-S1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/arm/rse/index.html">Runtime Security Engine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../platform/armchina/index.html">ArmChina</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/armchina/mps3/alcor/README.html">Alcor FPGA (AN557)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../platform/cypress/index.html">Cypress</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/cypress/psoc64/index.html">PSoC64</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../platform/lairdconnectivity/index.html">Laird Connectivity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/lairdconnectivity/bl5340_dvk_cpuapp/README.html">BL5340</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../platform/nordic_nrf/index.html">Nordic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/nordic_nrf/nrf5340dk_nrf5340_cpuapp/README.html">nRF5340</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/nordic_nrf/nrf9160dk_nrf9160/README.html">nRF9160</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/nordic_nrf/nrf9161dk_nrf9161/README.html">nRF9161</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../platform/nuvoton/index.html">Nuvoton</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/nuvoton/m2351/README.html">NuMaker-PFM-M2351</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/nuvoton/m2354/README.html">NuMaker-PFM-M2354</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../platform/nxp/index.html">NXP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/nxp/lpcxpresso55s69/README.html">LPCXpresso55S69</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../platform/stm/index.html">STMICROELECTRONICS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/common/stm32h5xx/readme.html">STM32H5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/common/stm32l5xx/readme.html">STM32L5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/common/stm32mp2xx/readme.html">STM32MP2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/common/stm32u5xx/readme.html">STM32U5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/nucleo_l552ze_q/readme.html">NUCLEO_L552ZE_Q</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/stm32h573i_dk/readme.html">STM32H573I_DK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/stm32l562e_dk/readme.html">STM32L562E_DK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/stm32mp257f_ev1/readme.html">stm32mp257f_ev1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/b_u585i_iot02a/readme.html">B_U585I_IOT02A</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../building/tfm_build_instruction.html">Build instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../building/tests_build_instruction.html">Build Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../building/run_tfm_examples_on_arm_platforms.html">Run TF-M tests and applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../building/documentation_generation.html">Building the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../building/tfm_build_instruction_iar.html">IAR toolchain</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../configuration/index.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../configuration/build_configuration.html">Build configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../configuration/header_file_system.html">Component configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../configuration/kconfig_system.html">Kconfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../configuration/profiles/index.html">Profiles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../configuration/profiles/tfm_profile_small.html"> Small</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../configuration/profiles/tfm_profile_medium_arot-less.html"> ARoT-less</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../configuration/profiles/tfm_profile_medium.html"> Medium</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../configuration/profiles/tfm_profile_large.html"> Large</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../configuration/test_configuration.html">Tests configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../integration_guide/index.html">Integration Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../integration_guide/source_structure/source_structure.html">Source Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/source_structure/platform_folder.html">Details for the /platform folder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/source_structure/platform_ext_folder.html">Details for the /platform/ext folder</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../integration_guide/spm_backends.html">SPM Backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../integration_guide/non-secure_client_extension_integration_guide.html">NS client integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../integration_guide/os_migration_guide_armv8m.html">OS migration to Armv8-M</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../integration_guide/tfm_fpu_support.html">Floating-Point Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../integration_guide/tfm_secure_irq_integration_guide.html">Secure Interrupt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../integration_guide/platform_provisioning.html">Platform Provisioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../integration_guide/platform/index.html">Adding a new platform</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/platform/porting_tfm_to_a_new_hardware.html">Porting TF-M to a New Hardware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/platform/documenting_platform.html">Platform Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/platform/platform_deprecation.html">Platform deprecation and removal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../integration_guide/services/index.html">Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/services/tfm_attestation_integration_guide.html">Initial Attestation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/services/tfm_crypto_integration_guide.html">Crypto</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/services/tfm_its_integration_guide.html">Internal Trusted Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/services/tfm_platform_integration_guide.html">Platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/services/tfm_ps_integration_guide.html">Protected Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/services/tfm_secure_partition_addition.html">Adding a New Secure Partition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/services/tfm_manifest_tool_user_guide.html">Manifest Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../integration_guide/services/tfm_adac_integration_guide.html">ADAC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../design_docs/index.html">Design Documents</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../design_docs/booting/tfm_secure_boot.html">Secure Boot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/booting/bl1.html">BL1 Immutable bootloader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/booting/secure_boot_rollback_protection.html">Rollback Protection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/booting/secure_boot_hw_key_integration.html">HW Key integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_docs/dual-cpu/index.html">Dual CPU</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/dual-cpu/booting_a_dual_core_system.html">Booting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/dual-cpu/communication_prototype_between_nspe_and_spe_in_dual_core_systems.html">SPE - NSPE communication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/dual-cpu/mailbox_design_on_dual_core_system.html">Mailbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/dual-cpu/mailbox_ns_agent_update.html">Mailbox update</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/dual-cpu/tfm_multi_core_access_check.html">Memory Access Check</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_docs/services/index.html">Secure Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/services/secure_partition_manager.html">Secure Partition Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/services/secure_partition_runtime_library.html">Secure Partition RTL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/services/tfm_psa_inter_process_communication.html">Inter-Process Communication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/services/stateless_rot_service.html">Stateless Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/services/tfm_uniform_secure_service_signature.html">Service Signing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/services/tfm_crypto_design.html">Crypto</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/services/symmetric_initial_attest.html">Initial Attestation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/services/tfm_its_service.html">Internal Trusted Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/services/tfm_fwu_service.html">Firmware Update</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/services/ps_key_management.html">PS Key Management</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_docs/software/index.html">Software Design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/software/code_sharing.html">Code Sharing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/software/hardware_abstraction_layer.html">Hardware Abstraction Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/software/tfm_cooperative_scheduling_rules.html">Cooperative Scheduling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/software/tfm_code_generation_with_jinja2.html">Code Templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../design_docs/software/enum_implicit_casting.html">Implicit Typecasting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_docs/ff_isolation.html">Isolation Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_docs/tfm_builtin_keys.html">Builtin Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_docs/tfm_log_system_design_document.html">Logging system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_docs/tfm_physical_attack_mitigation.html">Physical Attack Mitigation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contribution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/index.html">Guidelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/contributing_process.html">The process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/code_review_guide.html">Code review</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/maintainers.html">Maintainers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/maintainers.html#code-owners">Code owners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/coding_guide.html">Yet another coding standard :)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/doc_guidelines.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../contributing/tfm_design_proposal_guideline.html">Design proposal</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/lic.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/dco.html">DCO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://trustedfirmware-m.readthedocs.io/projects/tf-m-tests/en/latest/">TF-M Tests</a></li>
<li class="toctree-l1"><a class="reference external" href="https://trustedfirmware-m.readthedocs.io/projects/tf-m-tools/en/latest/">TF-M Tools</a></li>
<li class="toctree-l1"><a class="reference external" href="https://trustedfirmware-m.readthedocs.io/projects/tf-m-extras/en/latest/">TF-M Extras</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ci.trustedfirmware.org/job/tf-m-build-docs-nightly/lastSuccessfulBuild/artifact/trusted-firmware-m/build/docs/reference_manual/html/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://developer.trustedfirmware.org/w/collaboration/security_center">Security Center</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.arm.com/architecture/security-features/platform-security">PSA</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">STMICROELECTRONICS</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Releases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../releases/getting_started.html">Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/stm32h573i_dk/readme.html">STM32H573I_DK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/stm32l562e_dk/readme.html">STM32L562E_DK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/stm32mp257f_ev1/readme.html">stm32mp257f_ev1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/nucleo_l552ze_q/readme.html">NUCLEO_L552ZE_Q</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/b_u585i_iot02a/readme.html">B_U585I_IOT02A</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../releases/platforms.html">Platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/common/stm32h5xx/readme.html">STM32H5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/common/stm32l5xx/readme.html">STM32L5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/common/stm32mp2xx/readme.html">STM32MP2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/common/stm32u5xx/readme.html">STM32U5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/nucleo_l552ze_q/readme.html">NUCLEO_L552ZE_Q</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/stm32h573i_dk/readme.html">STM32H573I_DK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/stm32l562e_dk/readme.html">STM32L562E_DK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platform/stm/stm32mp257f_ev1/readme.html">stm32mp257f_ev1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../releases/changelog.html">Change Log &amp; Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../releases/v1.3.0/index.html">v1.3.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../releases/v1.4.0/index.html">v1.4.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../releases/v1.5.0/index.html">v1.5.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../releases/v1.7.0/index.html">v1.7.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../releases/v2.1.0/index.html">v2.1.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html#branch-plans">Branch plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technical/index.html">Technical references</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../technical/copro/index.html">Copro</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../technical/copro/memory_layout.html">Memory layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../technical/copro/storage.html">Storage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../technical/m33tdcid/index.html">M33TDCID</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../technical/m33tdcid/memory_layout.html">Memory layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../technical/m33tdcid/storage.html">Storage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../technical/devicetree/index.html">Devicetree</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../technical/devicetree/devicetree_tfm.html">Scope and purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../technical/devicetree/devicetree_tfm.html#concept">Concept</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../technical/devicetree/devicetree_tfm.html#how-to-add-device">How to add device</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../technical/initlevel.html">Initlevel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technical/initial_attestation.html">Initial Attestation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technical/nv_counter.html">Nv counter</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Ide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">STM32cubeIDE</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Trusted Firmware-M</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Ide</a> &raquo;</li>
      <li>STM32cubeIDE</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="stm32cubeide">
<h1>STM32cubeIDE<a class="headerlink" href="#stm32cubeide" title="Permalink to this heading"></a></h1>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>This section is a POC, is not the official ST solution. If this cmake solution become mainstream this will be done by stm32cube team.</p>
</div>
<p>The goal of this sections is to try to based eclipse IDE (stm32cubeide) on TFM builder without adaptation. In order to:</p>
<ul class="simple">
<li><p>Reduce porting effort needed for each release.</p></li>
<li><p>Use TFM tools for user integration of partition, irq… (based on yaml description)</p></li>
<li><p>possibility to refer on TFM documentation</p></li>
</ul>
<p>Some solutions has been dismissed to find one</p>
<section id="cdt-eclipse-fail">
<h2>CDT eclipse [Fail]<a class="headerlink" href="#cdt-eclipse-fail" title="Permalink to this heading"></a></h2>
<p>Eclipse integrate a cmake extension in CDT eclipse, but there is too much instability with “cdt make nature”.</p>
<p>Lot of errors: cmake vs make, Project -&gt; properties -&gt; cmake to run cmake-gui.</p>
</section>
<section id="cmake4eclipse-fail">
<h2>cmake4eclipse [Fail]<a class="headerlink" href="#cmake4eclipse-fail" title="Permalink to this heading"></a></h2>
<p>Error while eclipse marketplace installs</p>
<p>“The following solutions are not available: cmake4eclipse2.1.4”</p>
<section id="makefile-project-ok">
<h3>Makefile Project [OK]<a class="headerlink" href="#makefile-project-ok" title="Permalink to this heading"></a></h3>
<p>An alternatif is possible.</p>
<p>Create a “Makefile project with existing code” and
replace the cmake-gui integration (above solutions, which used “project nature”)
by a build target to call cmake-gui.</p>
<section id="sw-requirement">
<h4>Sw requirement<a class="headerlink" href="#sw-requirement" title="Permalink to this heading"></a></h4>
<ul>
<li><p><a class="reference internal" href="../../../getting_started/tfm_getting_started.html"><span class="doc">TFM sw requirements guide</span></a></p></li>
<li><p>Addon for windows: git-bash &gt;= 2.25.0</p></li>
<li><p>STM32cubeIDE</p></li>
<li><p>cmake with cmake-gui:</p>
<p>if cmake version is older, install a cmake &gt; 3.15 with cmake-gui.</p>
<p>On Ubuntu, qt is requires:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>qt5-default
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>https://github.com/Kitware/CMake/releases/download/v3.20.2/cmake-3.20.2.tar.gz
tar<span class="w"> </span>xvfz<span class="w"> </span>cmake-3.20.2.tar.gz
<span class="nb">cd</span><span class="w"> </span>cmake-3.20.2
./bootstrap<span class="w"> </span>--qt-gui<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>make<span class="w"> </span>install
</pre></div>
</div>
</li>
</ul>
</section>
<section id="run-stm32cubeide">
<h4>Run STM32CubeIDE<a class="headerlink" href="#run-stm32cubeide" title="Permalink to this heading"></a></h4>
<p>This section is required if you must define a proxy, else run STM32CubeIDE normally.</p>
<p>Before to run stm32cubeide in a terminal, you must define:</p>
<ul class="simple">
<li><p>Proxy with set_proxy</p></li>
<li><p>Set stm32cubeide path in PATH variable.</p></li>
</ul>
</section>
<section id="create-project">
<h4>Create Project<a class="headerlink" href="#create-project" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p>file -&gt; new -&gt; Makefile project with existing code</p>
<ul>
<li><p>project name: trusted-firmware-m</p></li>
<li><p>existing code location: browse on tfm root</p></li>
<li><p>toolchain: Cross GCC</p></li>
</ul>
</li>
</ul>
<img alt="../../../_images/stm32cubeide_newproject.png" class="align-center" src="../../../_images/stm32cubeide_newproject.png" />
<ul class="simple">
<li><p>Project -&gt; properties</p>
<ul>
<li><p>C/C++ Build</p>
<ul>
<li><p>Builder Setting</p>
<ul>
<li><p>Build command: make -C ./build</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<img alt="../../../_images/stm32cubeide_properties.png" class="align-center" src="../../../_images/stm32cubeide_properties.png" />
<ul class="simple">
<li><p>Project -&gt; properties</p>
<ul>
<li><p>C/C++ Build</p>
<ul>
<li><p>Behavior</p>
<ul>
<li><p>Build: install</p></li>
<li><p>Clean: clean</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<img alt="../../../_images/stm32cubeide_behavior.png" class="align-center" src="../../../_images/stm32cubeide_behavior.png" />
<ul class="simple">
<li><p>Project -&gt; build target -&gt; create</p>
<ul>
<li><p>Target name: config-ui</p></li>
<li><p>Build target: -S ./ -B ./build</p></li>
<li><p>Build command: cmake-gui</p></li>
</ul>
</li>
</ul>
<img alt="../../../_images/stm32cubeide_config-ui.png" class="align-center" src="../../../_images/stm32cubeide_config-ui.png" />
<ul>
<li><p>Project -&gt; build target -&gt; create</p>
<p>if you wish, you can define a preset config of your target.
After you can modify this config by config-ui.</p>
<ul>
<li><p>Target name: config-stm32mp257_fpga-debug</p></li>
<li><p>Build target:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-0-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-0-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-0-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><p>-DTFM_PLATFORM=stm/stm32mp257_fpga -DTFM_TOOLCHAIN_FILE=toolchain_GNUARM.cmake -DTEST_S=ON -DTEST_NS=ON -DTFM_PSA_API=ON -DTFM_ISOLATION_LEVEL=2 -DCMAKE_BUILD_TYPE=debug</p>
</div><div aria-labelledby="tab-0-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><p>-DTFM_PLATFORM=stm/stm32mp257_fpga -DTFM_TOOLCHAIN_FILE=toolchain_GNUARM.cmake -DTEST_S=ON -DTEST_NS=ON -DTFM_PSA_API=ON -DTFM_ISOLATION_LEVEL=2 -DCMAKE_BUILD_TYPE=debug -G “Unix Makefiles”</p>
</div></div>
</li>
<li><p>Build command: cmake -S ./ -B ./build</p></li>
</ul>
</li>
</ul>
<img alt="../../../_images/stm32cubeide_config-stm32mp257.png" class="align-center" src="../../../_images/stm32cubeide_config-stm32mp257.png" />
<ul class="simple">
<li><p>Project -&gt; build target -&gt; create</p>
<ul>
<li><p>Target name: install</p></li>
<li><p>Build target: install</p></li>
<li><p>Build command: make -C ./build</p></li>
</ul>
</li>
</ul>
<img alt="../../../_images/stm32cubeide_install.png" class="align-center" src="../../../_images/stm32cubeide_install.png" />
</section>
<section id="configure-build">
<h4>Configure &amp; Build<a class="headerlink" href="#configure-build" title="Permalink to this heading"></a></h4>
<ul>
<li><p>Project -&gt; Build Targets -&gt; Build</p>
<ul>
<li><p>Select configurator then click on “Build”</p>
<ul>
<li><p>Add entry:</p>
<p>If you have already preset a configuration with a specific “build target”
(config-XX), you do not need to “add entry”, but you can change the flags.
Otherwise, set cmake flags with “Add Entry” (depending on the target).</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-U1RNMzJNUDI1N19GUEdB" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-U1RNMzJNUDI1N19GUEdB" name="U1RNMzJNUDI1N19GUEdB" role="tab" tabindex="0">STM32MP257_FPGA</button><button aria-controls="panel-1-TlVDTEVPLUw1NTJaRS1R" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-TlVDTEVPLUw1NTJaRS1R" name="TlVDTEVPLUw1NTJaRS1R" role="tab" tabindex="-1">NUCLEO-L552ZE-Q</button><button aria-controls="panel-1-U1RNMzJMNTYyRS1ESw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-U1RNMzJMNTYyRS1ESw==" name="U1RNMzJMNTYyRS1ESw==" role="tab" tabindex="-1">STM32L562E-DK</button></div><div aria-labelledby="tab-1-U1RNMzJNUDI1N19GUEdB" class="sphinx-tabs-panel group-tab" id="panel-1-U1RNMzJNUDI1N19GUEdB" name="U1RNMzJNUDI1N19GUEdB" role="tabpanel" tabindex="0"><table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TFM_PLATFORM</p></td>
<td><p>STRING</p></td>
<td><p>stm/stm32mp257_fpga</p></td>
</tr>
<tr class="row-odd"><td><p>TFM_TOOLCHAIN_FILE</p></td>
<td><p>STRING</p></td>
<td><p>&lt;ABS_PATH&gt;/toolchain_GNUARM.cmake</p></td>
</tr>
<tr class="row-even"><td><p>TFM_ISOLATION_LEVEL</p></td>
<td><p>STRING</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>TEST_S</p></td>
<td><p>STRING</p></td>
<td><p>ON</p></td>
</tr>
<tr class="row-even"><td><p>TEST_NS</p></td>
<td><p>STRING</p></td>
<td><p>ON</p></td>
</tr>
<tr class="row-odd"><td><p>TFM_PSA_API</p></td>
<td><p>STRING</p></td>
<td><p>ON</p></td>
</tr>
<tr class="row-even"><td><p>CMAKE_BUILD_TYPE</p></td>
<td><p>STRING</p></td>
<td><p>debug</p></td>
</tr>
</tbody>
</table>
</div><div aria-labelledby="tab-1-TlVDTEVPLUw1NTJaRS1R" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-TlVDTEVPLUw1NTJaRS1R" name="TlVDTEVPLUw1NTJaRS1R" role="tabpanel" tabindex="0"><table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TFM_PLATFORM</p></td>
<td><p>STRING</p></td>
<td><p>stm/nucleo_l552ze_q</p></td>
</tr>
<tr class="row-odd"><td><p>TFM_TOOLCHAIN_FILE</p></td>
<td><p>STRING</p></td>
<td><p>&lt;ABS_PATH&gt;/toolchain_GNUARM.cmake</p></td>
</tr>
</tbody>
</table>
</div><div aria-labelledby="tab-1-U1RNMzJMNTYyRS1ESw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-U1RNMzJMNTYyRS1ESw==" name="U1RNMzJMNTYyRS1ESw==" role="tabpanel" tabindex="0"><table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TFM_PLATFORM</p></td>
<td><p>STRING</p></td>
<td><p>stm/stm32l562e_dk</p></td>
</tr>
<tr class="row-odd"><td><p>TFM_TOOLCHAIN_FILE</p></td>
<td><p>STRING</p></td>
<td><p>&lt;ABS_PATH&gt;/toolchain_GNUARM.cmake</p></td>
</tr>
</tbody>
</table>
</div></div>
</li>
<li><p>Configure:</p>
<ul class="simple">
<li><p>Unix Makefiles</p></li>
<li><p>Specify native compilers -&gt; browse on your cross gcc/g++ files for C and C++</p></li>
</ul>
</li>
<li><p>Generate:</p>
<p>if you would set or modify an option (example TFM_ISOLATION_LEVEL) =&gt; just click on the properties.
After, not forget to <strong>configure</strong> and <strong>generate</strong>.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<img alt="../../../_images/stm32cubeide_configurator_variable.png" class="align-center" src="../../../_images/stm32cubeide_configurator_variable.png" />
<ul class="simple">
<li><p>Project -&gt; Build Targets -&gt; Build</p>
<ul>
<li><p>Select “install” then click on “Build” (corresponding “hammer” icone) to compile TFM.</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>“Build Targets” could be access by lot of way in eclipse</p>
</div>
</section>
<section id="debug">
<h4>Debug<a class="headerlink" href="#debug" title="Permalink to this heading"></a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A debug configuration using OpenOCD is available for target stm32mp25_fpga</p>
</div>
<section id="pre-requisites">
<h5>Pre-requisites<a class="headerlink" href="#pre-requisites" title="Permalink to this heading"></a></h5>
<ul>
<li><p>You have to install Standalone OpenOCD eclipse plugin named <a class="reference external" href="https://marketplace.eclipse.org/content/eclipse-embedded-cc/promo">Eclipse Embedded C/C++</a></p>
<p>Use Eclipse menu “<strong>Help-&gt;Eclipse Marketplace</strong>” and search keyword “openocd”</p>
</li>
<li><p>You have to define environment variables $OCD_PATH, $OCD_BIN and $OCD_SCRIPTS :</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-TGludXg=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-TGludXg=" name="TGludXg=" role="tab" tabindex="0">Linux</button><button aria-controls="panel-2-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-2-TGludXg=" class="sphinx-tabs-panel group-tab" id="panel-2-TGludXg=" name="TGludXg=" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">OCD_PATH</span><span class="o">=</span>&lt;your_ocd_root_path&gt;
<span class="nb">export</span><span class="w"> </span><span class="nv">OCD_SCRIPTS</span><span class="o">=</span><span class="nv">$OCD_PATH</span>/scripts
<span class="nb">export</span><span class="w"> </span><span class="nv">OCD_BIN</span><span class="o">=</span>bin/openocd-linux-x86_64/bin/openocd
</pre></div>
</div>
</div><div aria-labelledby="tab-2-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">OCD_PATH</span><span class="o">=</span>&lt;your_ocd_root_path&gt;
<span class="nb">export</span><span class="w"> </span><span class="nv">OCD_SCRIPTS</span><span class="o">=</span><span class="nv">$OCD_PATH</span>/scripts
<span class="nb">export</span><span class="w"> </span><span class="nv">OCD_BIN</span><span class="o">=</span>bin/openocd-win32/bin/openocd.exe
</pre></div>
</div>
</div></div>
</li>
<li><p>Restart STM32CubeIDE to take into account OpenOCD plugin and environment variables</p></li>
</ul>
</section>
<section id="launch-debug-configuration">
<h5>Launch Debug Configuration<a class="headerlink" href="#launch-debug-configuration" title="Permalink to this heading"></a></h5>
<ul class="simple">
<li><p>Before to launch “<strong>TFM Debug Configuration</strong>”, make sure to have built successfully the TFM binaries</p></li>
<li><p>Reset the stm332mp25_fpga target</p></li>
<li><p>From your TFM STM32CUbeIDE project, Right click on “<strong>TFM Debug.launch</strong>” file -&gt; Debug AS -&gt; TFM Debug</p></li>
</ul>
<hr class="docutils" />
<p><em>Copyright (c) 2021 STMicroelectronics. All rights reserved.</em>
<em>SPDX-License-Identifier: BSD-3-Clause</em></p>
</section>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>